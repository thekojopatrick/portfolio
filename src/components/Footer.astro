---
import { SITE, SOCIALS } from "@consts";
import Link from "./Link.astro";
import Container from "@/components/Container.astro";
import { Image } from "astro:assets";
import { formatDate } from "@lib/utils";
import ShimmerButton from "./ui/shimmer-button";

const today = new Date();
---

<footer
  class="bg-neutral-100 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50 py-24 md:py-32 px-4 md:px-5 mt-24 transition-colors duration-300"
>
  <Container size="lg">
    <div class="flex flex-col gap-12 md:gap-24">
      <div class="space-y-6">
        <h2
          class="font-serif text-display md:text-display-lg leading-[0.8] tracking-tighter text-neutral-900 dark:text-neutral-50"
        >
          Let's start <br />
          <span class="italic text-neutral-500">something</span> new.
        </h2>
        <div class="flex flex-col md:flex-row gap-8 pt-8">
          <Link
            href={`mailto:${SITE.EMAIL}`}
            underline={false}
            className="text-xl md:text-2xl border-b border-neutral-300 dark:border-neutral-700 pb-1 hover:border-neutral-900 dark:hover:border-white transition-colors"
          >
            {SITE.EMAIL}
          </Link>
        </div>
      </div>

      <div
        class="grid grid-cols-2 md:grid-cols-4 gap-8 border-t border-neutral-200 dark:border-neutral-800 pt-12"
      >
        <div class="flex flex-col gap-4">
          <span
            class="text-xs font-mono text-neutral-500 uppercase tracking-widest"
            >Socials</span
          >
          {
            SOCIALS.map((s) => (
              <Link
                href={s.HREF}
                external
                underline={false}
                className="hover:text-neutral-400 transition-colors"
              >
                {s.NAME}
              </Link>
            ))
          }
        </div>
        <div class="flex flex-col gap-4">
          <span
            class="text-xs font-mono text-neutral-500 uppercase tracking-widest"
            >Sitemap</span
          >
          <Link
            href="/"
            underline={false}
            className="hover:text-neutral-400 transition-colors">Index</Link
          >
          <Link
            href="/about"
            underline={false}
            className="hover:text-neutral-400 transition-colors">About</Link
          >
          <Link
            href="/projects"
            underline={false}
            className="hover:text-neutral-400 transition-colors">Projects</Link
          >
        </div>
        <div
          class="flex flex-col gap-4 md:col-span-2 md:items-end md:text-right"
        >
          <span
            class="text-xs font-mono text-neutral-500 uppercase tracking-widest"
            >Local Time</span
          >
          <span class="font-serif text-2xl italic"
            >{today.toLocaleTimeString()}</span
          >
          <span class="text-neutral-500"
            >&copy; {today.getFullYear()} {SITE.NAME}</span
          >
        </div>
      </div>
    </div>
  </Container>
</footer>

<script is:inline>
  function goBackToTop(event) {
    event.preventDefault();
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  }

  function inintializeBackToTop() {
    const backToTop = document.getElementById("back-to-top");
    backToTop?.addEventListener("click", goBackToTop);
  }

  document.addEventListener("astro:after-swap", inintializeBackToTop);
  inintializeBackToTop();
</script>
