---
import { SITE, SOCIALS } from "@consts";
import Link from "./Link.astro";
import Container from "@/components/Container.astro";
import { Image } from "astro:assets";
import { formatDate } from "@lib/utils";
import ShimmerButton from "./ui/shimmer-button";

const today = new Date();
---

<footer class="px-4 md:px-5">
  <Container size="lg">
    <div
      class="flex flex-col md:flex-row justify-between items-start md:items-center gap-6"
    >
      <div class="space-y-2">
        <h5 class="font-semibold text-lg text-neutral-900">Let's Connect</h5>
        <p class="text-neutral-600 max-w-md text-sm leading-relaxed">
          Open to new opportunities and collaborations. Feel free to reach out.
        </p>
        <div class="flex gap-4 pt-2">
          {
            SOCIALS.map((SOCIAL) => (
              <Link
                href={SOCIAL.HREF}
                external
                aria-label={`${SITE.NAME} on ${SOCIAL.NAME}`}
                className="text-neutral-500 hover:text-neutral-900 text-sm transition-colors"
              >
                {SOCIAL.NAME}
              </Link>
            ))
          }
        </div>
      </div>

      <div class="flex flex-col items-start md:items-end gap-2">
        <Link href={`mailto:${SITE.EMAIL}`} aria-label={`Email ${SITE.NAME}`}>
          <button
            class="px-5 py-2 bg-neutral-900 text-white text-sm font-medium rounded-full hover:bg-neutral-800 transition-colors"
          >
            Get in Touch
          </button>
        </Link>
      </div>
    </div>

    <div
      class="mt-12 pt-6 border-t border-neutral-200 flex flex-col md:flex-row justify-between items-center gap-4 text-xs text-neutral-500"
    >
      <div class="flex items-center gap-2">
        <span class="relative flex h-2 w-2">
          <span
            class="animate-ping absolute inline-flex h-full w-full rounded-full bg-green-400 opacity-75"
          ></span>
          <span class="relative inline-flex rounded-full h-2 w-2 bg-green-500"
          ></span>
        </span>
        <span>Available for work</span>
      </div>
      <div class="flex gap-4">
        <span>&copy; {today.getFullYear()} {SITE.NAME}.</span>
        <button
          id="back-to-top"
          class="hover:text-neutral-900 transition-colors">Back to Top</button
        >
      </div>
    </div>
  </Container>
</footer>

<script is:inline>
  function goBackToTop(event) {
    event.preventDefault();
    window.scrollTo({
      top: 0,
      behavior: "smooth",
    });
  }

  function inintializeBackToTop() {
    const backToTop = document.getElementById("back-to-top");
    backToTop?.addEventListener("click", goBackToTop);
  }

  document.addEventListener("astro:after-swap", inintializeBackToTop);
  inintializeBackToTop();
</script>
