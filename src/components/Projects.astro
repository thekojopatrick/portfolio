---
import Link from "./Link.astro";
import { projects } from "@data/projects";
import { ProjectList } from "./ProjectList";

// Sort projects if they have dates, otherwise use as-is
const sortedProjects = projects.sort((a, b) => {
  // Add date field to your Project interface if needed
  // For now, just use the array as-is
  return 0;
});
---

<section class="py-24 md:py-32 px-6 md:px-12">
  <div
    class="flex items-baseline justify-between mb-12 border-b border-neutral-200 dark:border-neutral-800 pb-4 reveal"
  >
    <h2
      class="font-serif text-3xl md:text-4xl text-neutral-900 dark:text-neutral-50"
    >
      Selected Works
    </h2>
    <span class="text-sm font-mono text-neutral-500"
      >({projects.length.toString().padStart(2, "0")})</span
    >
  </div>

  <ProjectList client:visible projects={sortedProjects} />

  <div class="mt-12 text-center md:text-right">
    <Link
      href="/projects"
      underline={true}
      className="font-serif italic text-xl text-neutral-600 hover:text-neutral-900 dark:text-neutral-400 dark:hover:text-neutral-50"
    >
      View full archive &rarr;
    </Link>
  </div>
</section>
